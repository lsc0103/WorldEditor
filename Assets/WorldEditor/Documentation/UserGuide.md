# WorldEditor ç”¨æˆ·æŒ‡å—

## ç›®å½•
1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [åŸºç¡€æ“ä½œ](#åŸºç¡€æ“ä½œ)
3. [åœ°å½¢ç”Ÿæˆç³»ç»Ÿ](#åœ°å½¢ç”Ÿæˆç³»ç»Ÿ)
4. [æ™ºèƒ½æ”¾ç½®ç³»ç»Ÿ](#æ™ºèƒ½æ”¾ç½®ç³»ç»Ÿ)
5. [ç¯å¢ƒå¤©æ°”ç³»ç»Ÿ](#ç¯å¢ƒå¤©æ°”ç³»ç»Ÿ)
6. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
7. [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
8. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
9. [é—®é¢˜è§£å†³](#é—®é¢˜è§£å†³)

---

## ç³»ç»Ÿæ¦‚è¿°

WorldEditor æ˜¯ä¸€ä¸ªé›†æˆçš„ä¸–ç•Œåˆ›å»ºå·¥å…·ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦ç³»ç»Ÿï¼š

### ğŸ”ï¸ åœ°å½¢ç”Ÿæˆç³»ç»Ÿ
- ç¨‹åºåŒ–åœ°å½¢ç”Ÿæˆ
- å¤šå±‚å™ªå£°ç³»ç»Ÿ
- åœ°è´¨æ¨¡æ‹Ÿå’Œä¾µèš€
- ç”Ÿç‰©ç¾¤è½æ”¯æŒ

### ğŸŒ¿ æ™ºèƒ½æ”¾ç½®ç³»ç»Ÿ  
- AIé©±åŠ¨çš„æ¤è¢«æ”¾ç½®
- ç”Ÿæ€ç³»ç»Ÿæ¨¡æ‹Ÿ
- åœ°å½¢é€‚åº”æ€§åˆ†æ
- è‡ªç„¶åˆ†å¸ƒç®—æ³•

### ğŸŒ¦ï¸ ç¯å¢ƒå¤©æ°”ç³»ç»Ÿ
- ç‰©ç†å¤©æ°”æ¨¡æ‹Ÿ
- åŠ¨æ€æ—¥å¤œå¾ªç¯
- å­£èŠ‚å˜åŒ–
- å®æ—¶å…‰ç…§æ§åˆ¶

### âš¡ æ€§èƒ½ä¼˜åŒ–ç³»ç»Ÿ
- LODç®¡ç†
- æµå¼åŠ è½½
- å†…å­˜ä¼˜åŒ–
- æ€§èƒ½ç›‘æ§

---

## åŸºç¡€æ“ä½œ

### æ‰“å¼€WorldEditorçª—å£

1. **é€šè¿‡èœå•æ **ï¼š
   ```
   èœå•æ  â†’ ä¸–ç•Œç¼–è¾‘å™¨ â†’ æ‰“å¼€WorldEditor
   ```

2. **å¿«æ·é”®**ï¼š
   ```
   Ctrl+Shift+W (Windows)
   Cmd+Shift+W (Mac)
   ```

### WorldEditorç•Œé¢å¸ƒå±€

WorldEditorçª—å£åŒ…å«ä»¥ä¸‹æ ‡ç­¾é¡µï¼š

- **é¡¹ç›®æ€»è§ˆ**: ç³»ç»ŸçŠ¶æ€å’Œå¿«é€Ÿæ“ä½œ
- **åœ°å½¢ç”Ÿæˆ**: åœ°å½¢å‚æ•°é…ç½®å’Œç”Ÿæˆæ§åˆ¶  
- **æ™ºèƒ½æ”¾ç½®**: æ¤è¢«å’Œç‰©ä½“æ”¾ç½®è®¾ç½®
- **ç¯å¢ƒå¤©æ°”**: å¤©æ°”å’Œå…‰ç…§æ§åˆ¶
- **AIç”Ÿæˆ**: AIè¾…åŠ©åŠŸèƒ½ï¼ˆæœªæ¥ç‰ˆæœ¬ï¼‰
- **æ€§èƒ½ä¼˜åŒ–**: æ€§èƒ½åˆ†æå’Œä¼˜åŒ–å·¥å…·
- **è®¾ç½®**: å…¨å±€é…ç½®é€‰é¡¹

### åˆå§‹åŒ–ç³»ç»Ÿ

é¦–æ¬¡ä½¿ç”¨æ—¶éœ€è¦åˆå§‹åŒ–ç³»ç»Ÿï¼š

1. æ‰“å¼€WorldEditorçª—å£
2. åœ¨"é¡¹ç›®æ€»è§ˆ"æ ‡ç­¾ä¸­æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
3. ç‚¹å‡»"åˆ›å»º"æŒ‰é’®æ¥åˆ›å»ºç¼ºå¤±çš„ç»„ä»¶
4. ç‚¹å‡»"åˆ·æ–°ç³»ç»Ÿ"ç¡®ä¿æ‰€æœ‰ç»„ä»¶æ­£å¸¸åŠ è½½

---

## åœ°å½¢ç”Ÿæˆç³»ç»Ÿ

### åŸºæœ¬åœ°å½¢ç”Ÿæˆ

#### æ­¥éª¤1ï¼šé…ç½®åœ°å½¢å‚æ•°

1. åˆ‡æ¢åˆ°"åœ°å½¢ç”Ÿæˆ"æ ‡ç­¾é¡µ
2. è®¾ç½®åŸºç¡€å‚æ•°ï¼š
   ```
   åœ°å½¢å¤§å°: 1000x1000m
   é«˜åº¦èŒƒå›´: 0-600m
   åˆ†è¾¨ç‡: 513x513
   ```

3. é…ç½®å™ªå£°è®¾ç½®ï¼š
   ```
   å™ªå£°ç±»å‹: Perlin
   é¢‘ç‡: 0.01
   æŒ¯å¹…: 1.0
   å…«åº¦æ•°: 4
   ```

#### æ­¥éª¤2ï¼šé€‰æ‹©ç”Ÿç‰©ç¾¤è½

```csharp
// å¯ç”¨çš„ç”Ÿç‰©ç¾¤è½ç±»å‹
public enum BiomeType
{
    Temperate,    // æ¸©å¸¦
    Desert,       // æ²™æ¼ 
    Tropical,     // çƒ­å¸¦
    Arctic,       // æåœ°
    Mountain,     // å±±åœ°
    Coastal       // æµ·å²¸
}
```

#### æ­¥éª¤3ï¼šç”Ÿæˆåœ°å½¢

1. ç‚¹å‡»"ç”Ÿæˆåœ°å½¢"æŒ‰é’®
2. ç­‰å¾…ç”Ÿæˆè¿‡ç¨‹å®Œæˆ
3. åœ¨Sceneè§†å›¾ä¸­æŸ¥çœ‹ç»“æœ

### é«˜çº§åœ°å½¢åŠŸèƒ½

#### å¤šå±‚å™ªå£°ç³»ç»Ÿ

```csharp
// åœ¨WorldEditorSettingsä¸­é…ç½®
[SerializeField] private List<NoiseLayerSettings> noiseLayers = new List<NoiseLayerSettings>
{
    new NoiseLayerSettings 
    { 
        noiseType = NoiseType.Perlin,
        frequency = 0.01f,
        amplitude = 1.0f,
        octaves = 4
    },
    new NoiseLayerSettings 
    { 
        noiseType = NoiseType.Ridged,
        frequency = 0.005f,
        amplitude = 0.5f,
        octaves = 3
    }
};
```

#### åœ°è´¨æ¨¡æ‹Ÿ

å¯ç”¨åœ°è´¨ç‰¹å¾ï¼š

1. åœ¨åœ°å½¢è®¾ç½®ä¸­å¯ç”¨"åœ°è´¨æ¨¡æ‹Ÿ"
2. é…ç½®ä¾µèš€å‚æ•°ï¼š
   ```
   ä¾µèš€è¿­ä»£: 50
   ä¾µèš€å¼ºåº¦: 0.3
   æ²‰ç§¯ç‡: 0.4
   è’¸å‘ç‡: 0.01
   ```

3. è®¾ç½®å²©çŸ³ç¡¬åº¦ï¼š
   ```
   èŠ±å²—å²©: 0.9
   ç ‚å²©: 0.6
   é¡µå²©: 0.4
   ```

#### æ²³æµç”Ÿæˆ

è‡ªåŠ¨ç”Ÿæˆæ²³æµç½‘ç»œï¼š

1. å¯ç”¨"æ²³æµç”Ÿæˆ"é€‰é¡¹
2. è®¾ç½®å‚æ•°ï¼š
   ```
   æ²³æµæ•°é‡: 3-5æ¡
   æ²³æµå®½åº¦: 2-10m
   æ²³æµæ·±åº¦: 1-3m
   æ±‡æµé˜ˆå€¼: 0.1
   ```

3. é…ç½®æ²³æµæè´¨å’Œæ•ˆæœ

---

## æ™ºèƒ½æ”¾ç½®ç³»ç»Ÿ

### æ¤è¢«æ”¾ç½®åŸºç¡€

#### æ­¥éª¤1ï¼šå‡†å¤‡æ¤è¢«é¢„åˆ¶ä½“

åˆ›å»ºæ¤è¢«é¢„åˆ¶ä½“å¹¶é…ç½®ï¼š

```csharp
[CreateAssetMenu(menuName = "WorldEditor/Vegetation Profile")]
public class VegetationProfile : ScriptableObject
{
    public GameObject[] trees;          // æ ‘æœ¨é¢„åˆ¶ä½“
    public GameObject[] bushes;         // çŒæœ¨é¢„åˆ¶ä½“
    public GameObject[] grass;          // è‰ç±»é¢„åˆ¶ä½“
    public GameObject[] flowers;        // èŠ±å‰é¢„åˆ¶ä½“
}
```

#### æ­¥éª¤2ï¼šé…ç½®æ”¾ç½®è§„åˆ™

```csharp
[System.Serializable]
public class PlacementRule
{
    public BiomeType biome;             // é€‚ç”¨çš„ç”Ÿç‰©ç¾¤è½
    public float minSlope = 0f;         // æœ€å°å¡åº¦
    public float maxSlope = 30f;        // æœ€å¤§å¡åº¦
    public float minAltitude = 0f;      // æœ€å°æµ·æ‹”
    public float maxAltitude = 1000f;   // æœ€å¤§æµ·æ‹”
    public float density = 1f;          // å¯†åº¦å› å­
    public float clusteringFactor = 0.5f; // èšé›†åº¦
}
```

#### æ­¥éª¤3ï¼šæ‰§è¡Œæ™ºèƒ½æ”¾ç½®

1. åˆ‡æ¢åˆ°"æ™ºèƒ½æ”¾ç½®"æ ‡ç­¾é¡µ
2. é€‰æ‹©æ¤è¢«é…ç½®æ–‡ä»¶
3. è°ƒæ•´å¯†åº¦å’Œåˆ†å¸ƒå‚æ•°
4. ç‚¹å‡»"æ”¾ç½®æ¤è¢«"æŒ‰é’®

### ç”Ÿæ€ç³»ç»Ÿæ¨¡æ‹Ÿ

#### æ¤è¢«ç«äº‰æ¨¡å‹

ç³»ç»Ÿæ¨¡æ‹Ÿæ¤è¢«ä¹‹é—´çš„ç«äº‰ï¼š

```csharp
public class PlantCompetition
{
    public float lightCompetition;      // å…‰ç…§ç«äº‰
    public float waterCompetition;      // æ°´åˆ†ç«äº‰
    public float nutrientCompetition;   // è¥å…»ç«äº‰
    public float spaceCompetition;      // ç©ºé—´ç«äº‰
    
    // è®¡ç®—å­˜æ´»æ¦‚ç‡
    public float CalculateSurvivalRate()
    {
        float totalCompetition = (lightCompetition + waterCompetition + 
                                 nutrientCompetition + spaceCompetition) / 4f;
        return Mathf.Clamp01(1f - totalCompetition);
    }
}
```

#### è‡ªç„¶æ¼”æ›¿

å¯ç”¨è‡ªç„¶æ¼”æ›¿æ¨¡æ‹Ÿï¼š

1. åœ¨æ”¾ç½®ç³»ç»Ÿä¸­å¯ç”¨"æ¼”æ›¿æ¨¡æ‹Ÿ"
2. è®¾ç½®æ¼”æ›¿å‚æ•°ï¼š
   ```
   æ¼”æ›¿é€Ÿåº¦: 0.1ï¼ˆæ…¢ï¼‰- 1.0ï¼ˆå¿«ï¼‰
   æ°”å€™ç¨³å®šæ€§: 0.8
   å¹²æ‰°é¢‘ç‡: 0.1
   ```

3. è§‚å¯Ÿæ¤è¢«ç¾¤è½éšæ—¶é—´çš„å˜åŒ–

### åœ°å½¢åˆ†æ

ç³»ç»Ÿè‡ªåŠ¨åˆ†æåœ°å½¢ç‰¹å¾ï¼š

#### å¡åº¦åˆ†æ
```csharp
public float CalculateSlope(Vector3 position, TerrainData terrain)
{
    float height = terrain.GetInterpolatedHeight(position.x, position.z);
    Vector3 normal = terrain.GetInterpolatedNormal(position.x, position.z);
    return Vector3.Angle(normal, Vector3.up);
}
```

#### æœå‘åˆ†æ
```csharp
public enum Aspect
{
    North,    // åŒ—å¡ï¼ˆé˜´å¡ï¼‰
    South,    // å—å¡ï¼ˆé˜³å¡ï¼‰
    East,     // ä¸œå¡ï¼ˆæ™¨å¡ï¼‰
    West,     // è¥¿å¡ï¼ˆæš®å¡ï¼‰
    Flat      // å¹³åœ°
}
```

#### æ¹¿åº¦åˆ†æ
```csharp
public float CalculateMoisture(Vector3 position)
{
    float baseMetrics = 0.5f;
    float altitudeEffect = Mathf.Clamp01(1f - position.y / 1000f);
    float slopeEffect = 1f - (CalculateSlope(position) / 90f);
    float proximityToWater = CalculateWaterProximity(position);
    
    return (baseMetrics + altitudeEffect + slopeEffect + proximityToWater) / 4f;
}
```

---

## ç¯å¢ƒå¤©æ°”ç³»ç»Ÿ

### å¤©æ°”æ§åˆ¶

#### åŸºæœ¬å¤©æ°”ç±»å‹

```csharp
public enum WeatherType
{
    Clear,    // æ™´æœ—
    Cloudy,   // å¤šäº‘
    Rainy,    // é›¨å¤©
    Stormy,   // æš´é£é›¨
    Foggy,    // é›¾å¤©
    Snowy     // é›ªå¤©
}
```

#### è®¾ç½®å¤©æ°”

1. **é€šè¿‡ç¼–è¾‘å™¨ç•Œé¢**ï¼š
   - åˆ‡æ¢åˆ°"ç¯å¢ƒå¤©æ°”"æ ‡ç­¾é¡µ
   - ç‚¹å‡»å¯¹åº”çš„å¤©æ°”æŒ‰é’®

2. **é€šè¿‡ä»£ç **ï¼š
   ```csharp
   var environmentSystem = FindObjectOfType<DynamicEnvironmentSystem>();
   environmentSystem.SetTargetWeather(WeatherType.Rainy);
   ```

### æ—¥å¤œå¾ªç¯ç³»ç»Ÿ

#### æ—¶é—´æ§åˆ¶

```csharp
public enum TimeOfDay
{
    Dawn,       // é»æ˜ (05:00-07:00)
    Morning,    // ä¸Šåˆ (07:00-11:00)
    Noon,       // æ­£åˆ (11:00-14:00)
    Afternoon,  // ä¸‹åˆ (14:00-18:00)
    Dusk,       // é»„æ˜ (18:00-20:00)
    Night       // å¤œæ™š (20:00-05:00)
}
```

#### é…ç½®æ—¥å¤œå¾ªç¯

```csharp
[SerializeField] private float dayDuration = 1440f;    // 24åˆ†é’Ÿ = 24å°æ—¶
[SerializeField] private float timeScale = 1f;        // æ—¶é—´ç¼©æ”¾
[SerializeField] private bool pauseTime = false;      // æš‚åœæ—¶é—´
```

### ç‰©ç†å¤©æ°”æ¨¡æ‹Ÿ

#### å¤§æ°”å‹åŠ›ç³»ç»Ÿ

ç³»ç»Ÿæ¨¡æ‹ŸçœŸå®çš„å¤§æ°”å‹åŠ›å˜åŒ–ï¼š

```csharp
public void UpdateAtmosphericPressure(float deltaTime)
{
    float altitude = cameraPosition.y;
    float standardPressure = 1013.25f; // æµ·å¹³é¢æ ‡å‡†å¤§æ°”å‹
    
    // ä½¿ç”¨æ°”å‹é«˜åº¦å…¬å¼
    float pressureAtAltitude = standardPressure * 
        Mathf.Pow(1f - (altitude * 0.0065f) / 288.15f, 5.255f);
    
    currentState.atmosphericPressure = pressureAtAltitude / standardPressure;
}
```

#### æ¸©åº¦æ¢¯åº¦

åŸºäºé«˜åº¦å’Œçº¬åº¦è®¡ç®—æ¸©åº¦ï¼š

```csharp
public float CalculateTemperature(float height, float latitude)
{
    // é«˜åº¦å½±å“ï¼šæ¯100ç±³ä¸‹é™0.65åº¦
    float heightTemperature = 15f - (height * 0.0065f);
    
    // çº¬åº¦å½±å“
    float latitudeTemperature = Mathf.Cos(latitude * Mathf.Deg2Rad) * 20f + 10f;
    
    return (heightTemperature + latitudeTemperature) / 2f;
}
```

#### é£ç³»ç»Ÿæ¨¡æ‹Ÿ

åŒ…å«ç§‘é‡Œå¥¥åˆ©æ•ˆåº”çš„é£æ¨¡æ‹Ÿï¼š

```csharp
public Vector3 CalculateWindDirection(Vector3 position)
{
    // å‹åŠ›æ¢¯åº¦åŠ›
    Vector3 pressureGradient = CalculatePressureGradient(position);
    
    // ç§‘é‡Œå¥¥åˆ©åŠ›
    Vector3 coriolisEffect = CalculateCoriolisEffect(currentWind, position);
    
    // åœ°å½¢å½±å“
    Vector3 terrainEffect = CalculateTerrainWindEffect(position);
    
    return (pressureGradient + coriolisEffect + terrainEffect).normalized;
}
```

### å­£èŠ‚å˜åŒ–

#### é…ç½®å­£èŠ‚ç³»ç»Ÿ

```csharp
[System.Serializable]
public class SeasonSettings
{
    public Season season;
    public float temperature;        // å¹³å‡æ¸©åº¦
    public float precipitation;      // é™æ°´é‡
    public float dayLightHours;     // æ—¥ç…§æ—¶é•¿
    public Color foliageColor;      // æ¤è¢«é¢œè‰²
}
```

#### å­£èŠ‚è¿‡æ¸¡

```csharp
public void UpdateSeasonTransition()
{
    float yearProgress = GetYearProgress();  // 0-1
    Season currentSeason = GetSeasonFromProgress(yearProgress);
    
    // å¹³æ»‘è¿‡æ¸¡å­£èŠ‚å‚æ•°
    SeasonSettings current = GetSeasonSettings(currentSeason);
    SeasonSettings next = GetSeasonSettings(GetNextSeason(currentSeason));
    
    float lerpFactor = GetSeasonLerpFactor(yearProgress);
    ApplyInterpolatedSeasonSettings(current, next, lerpFactor);
}
```

---

## æ€§èƒ½ä¼˜åŒ–

### LODç³»ç»Ÿ

#### é…ç½®LODè·ç¦»

```csharp
[SerializeField] private float[] lodDistances = { 50f, 150f, 500f, 1500f };

public void UpdateLOD(GameObject target, float distanceToCamera)
{
    int lodLevel = 0;
    for (int i = 0; i < lodDistances.Length; i++)
    {
        if (distanceToCamera > lodDistances[i])
        {
            lodLevel = i + 1;
        }
    }
    
    ApplyLODLevel(target, lodLevel);
}
```

#### åŠ¨æ€LODè°ƒæ•´

ç³»ç»Ÿæ ¹æ®æ€§èƒ½è‡ªåŠ¨è°ƒæ•´LODï¼š

```csharp
public void AutoAdjustLOD()
{
    float currentFPS = GetCurrentFPS();
    float targetFPS = 60f;
    
    if (currentFPS < targetFPS * 0.8f)
    {
        // æ€§èƒ½ä¸è¶³ï¼Œå¢åŠ LODè·ç¦»
        for (int i = 0; i < lodDistances.Length; i++)
        {
            lodDistances[i] *= 0.9f;
        }
    }
    else if (currentFPS > targetFPS * 1.2f)
    {
        // æ€§èƒ½è‰¯å¥½ï¼Œå‡å°‘LODè·ç¦»
        for (int i = 0; i < lodDistances.Length; i++)
        {
            lodDistances[i] *= 1.1f;
        }
    }
}
```

### å¤§ä¸–ç•Œæ”¯æŒ

#### åŒºå—ç®¡ç†

```csharp
public class WorldChunk
{
    public Vector2Int coordinates;     // åŒºå—åæ ‡
    public GameObject chunkObject;     // åŒºå—æ¸¸æˆå¯¹è±¡
    public bool isLoaded;             // æ˜¯å¦å·²åŠ è½½
    public bool isActive;             // æ˜¯å¦æ¿€æ´»
    public float lastAccessTime;      // æœ€åè®¿é—®æ—¶é—´
}

public void UpdateChunkLoading(Vector3 playerPosition)
{
    Vector2Int playerChunk = WorldToChunkCoords(playerPosition);
    
    // åŠ è½½å‘¨å›´åŒºå—
    for (int x = -loadRadius; x <= loadRadius; x++)
    {
        for (int z = -loadRadius; z <= loadRadius; z++)
        {
            Vector2Int chunkCoords = playerChunk + new Vector2Int(x, z);
            LoadChunkIfNeeded(chunkCoords);
        }
    }
    
    // å¸è½½è¿œç¦»çš„åŒºå—
    UnloadDistantChunks(playerChunk);
}
```

#### æµå¼åŠ è½½

```csharp
IEnumerator LoadChunkAsync(Vector2Int chunkCoords)
{
    var chunk = new WorldChunk { coordinates = chunkCoords };
    
    // å¼‚æ­¥ç”Ÿæˆåœ°å½¢
    yield return StartCoroutine(GenerateTerrainAsync(chunk));
    
    // å¼‚æ­¥æ”¾ç½®æ¤è¢«
    yield return StartCoroutine(PlaceVegetationAsync(chunk));
    
    // æ¿€æ´»åŒºå—
    chunk.isLoaded = true;
    chunks[chunkCoords] = chunk;
}
```

### æ€§èƒ½ç›‘æ§

#### å®æ—¶æ€§èƒ½æŒ‡æ ‡

```csharp
public class PerformanceMetrics
{
    public float averageFPS;
    public float minFPS;
    public float maxFPS;
    public float memoryUsage;
    public int drawCalls;
    public int triangleCount;
    
    public void Update()
    {
        averageFPS = 1f / Time.unscaledDeltaTime;
        memoryUsage = Profiler.GetTotalAllocatedMemory(false) / (1024f * 1024f);
        
        #if UNITY_EDITOR
        drawCalls = UnityEditor.UnityStats.drawCalls;
        triangleCount = UnityEditor.UnityStats.triangles;
        #endif
    }
}
```

#### æ€§èƒ½æŠ¥å‘Š

```csharp
public string GeneratePerformanceReport()
{
    return $"æ€§èƒ½æŠ¥å‘Š:\n" +
           $"FPS: {metrics.averageFPS:F1} (æœ€å°: {metrics.minFPS:F1})\n" +
           $"å†…å­˜: {metrics.memoryUsage:F1}MB\n" +
           $"æ¸²æŸ“è°ƒç”¨: {metrics.drawCalls}\n" +
           $"ä¸‰è§’å½¢æ•°: {metrics.triangleCount}";
}
```

---

## é«˜çº§åŠŸèƒ½

### è‡ªå®šä¹‰ç”Ÿç‰©ç¾¤è½

#### åˆ›å»ºç”Ÿç‰©ç¾¤è½å®šä¹‰

```csharp
[CreateAssetMenu(menuName = "WorldEditor/Biome Definition")]
public class CustomBiome : BiomeDefinition
{
    [Header("æ°”å€™å‚æ•°")]
    public float temperature = 20f;
    public float precipitation = 0.5f;
    public float humidity = 0.6f;
    
    [Header("æ¤è¢«é…ç½®")]
    public VegetationProfile vegetationProfile;
    public float vegetationDensity = 1f;
    
    public override void ApplyBiomeSettings(TerrainData terrain, Vector2 position)
    {
        // ä¿®æ”¹åœ°å½¢çº¹ç†
        ApplyTerrainTextures(terrain, position);
        
        // è®¾ç½®æ¤è¢«å‚æ•°
        ApplyVegetationSettings(position);
        
        // é…ç½®ç¯å¢ƒå‚æ•°
        ApplyEnvironmentSettings();
    }
}
```

### è‡ªå®šä¹‰å¤©æ°”æ•ˆæœ

#### æ‰©å±•å¤©æ°”ç³»ç»Ÿ

```csharp
public class CustomWeatherEffect : MonoBehaviour
{
    [Header("å¤©æ°”å‚æ•°")]
    public WeatherType weatherType = WeatherType.Clear;
    public float intensity = 1f;
    
    [Header("è§†è§‰æ•ˆæœ")]
    public ParticleSystem particles;
    public Light lighting;
    public AudioSource audioSource;
    
    public void UpdateWeatherEffect(float deltaTime, WeatherState weatherState)
    {
        // æ›´æ–°ç²’å­æ•ˆæœ
        UpdateParticleEffects(weatherState);
        
        // æ›´æ–°å…‰ç…§
        UpdateLightingEffects(weatherState);
        
        // æ›´æ–°éŸ³æ•ˆ
        UpdateAudioEffects(weatherState);
    }
}
```

### AIè¾…åŠ©åŠŸèƒ½ï¼ˆé¢„è§ˆï¼‰

æœªæ¥ç‰ˆæœ¬å°†åŒ…å«AIè¾…åŠ©åŠŸèƒ½ï¼š

```csharp
public class AIWorldGenerator
{
    public async Task<WorldGenerationParameters> GenerateWorldFromPrompt(string prompt)
    {
        // ä½¿ç”¨AIåˆ†æç”¨æˆ·æè¿°
        var analysis = await AnalyzePrompt(prompt);
        
        // ç”Ÿæˆå‚æ•°
        var parameters = new WorldGenerationParameters();
        parameters.biome = analysis.suggestedBiome;
        parameters.terrainRoughness = analysis.suggestedRoughness;
        parameters.vegetationDensity = analysis.suggestedVegetationDensity;
        
        return parameters;
    }
}
```

---

## æœ€ä½³å®è·µ

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **åœ°å½¢ç³»ç»Ÿ**
   - ä½¿ç”¨åˆé€‚çš„åœ°å½¢åˆ†è¾¨ç‡ï¼ˆæ¨è 513x513ï¼‰
   - é™åˆ¶åŒæ—¶ç”Ÿæˆçš„åœ°å½¢åŒºå—æ•°é‡
   - å¯ç”¨åœ°å½¢LODå’Œé®æŒ¡å‰”é™¤

2. **æ¤è¢«ç³»ç»Ÿ**
   - ä½¿ç”¨LOD Groupç»„ä»¶
   - è®¾ç½®åˆç†çš„æ¸²æŸ“è·ç¦»
   - å¯ç”¨GPU Instancing
   - ä½¿ç”¨Billboardæ¸²æŸ“è¿œå¤„æ¤è¢«

3. **ç¯å¢ƒç³»ç»Ÿ**
   - é™ä½ç²’å­ç³»ç»Ÿè´¨é‡
   - å‡å°‘å®æ—¶å…‰ç…§è®¡ç®—
   - ä½¿ç”¨çƒ˜ç„™å…‰ç…§å›¾
   - ä¼˜åŒ–é›¾æ•ˆå’Œåå¤„ç†æ•ˆæœ

4. **å†…å­˜ç®¡ç†**
   - å®šæœŸè¿è¡Œåƒåœ¾å›æ”¶
   - åŠæ—¶é‡Šæ”¾ä¸ç”¨çš„èµ„æº
   - ä½¿ç”¨å¯¹è±¡æ± æŠ€æœ¯
   - ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ

### å·¥ä½œæµç¨‹å»ºè®®

1. **é¡¹ç›®è§„åˆ’**
   - æ˜ç¡®ä¸–ç•Œè§„æ¨¡å’Œç»†èŠ‚éœ€æ±‚
   - è®¾å®šæ€§èƒ½ç›®æ ‡
   - é€‰æ‹©åˆé€‚çš„å·¥å…·é…ç½®

2. **è¿­ä»£å¼€å‘**
   - å…ˆåˆ›å»ºåŸºç¡€åœ°å½¢
   - é€æ­¥æ·»åŠ æ¤è¢«å’Œç»†èŠ‚
   - æŒç»­ä¼˜åŒ–æ€§èƒ½
   - å®šæœŸæµ‹è¯•å’Œè°ƒæ•´

3. **å›¢é˜Ÿåä½œ**
   - ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶
   - å»ºç«‹èµ„æºå‘½åè§„èŒƒ
   - å®šæœŸå¤‡ä»½é¡¹ç›®
   - æ–‡æ¡£åŒ–é…ç½®å‚æ•°

### è´¨é‡æ§åˆ¶

1. **è§†è§‰è´¨é‡**
   - ä¿æŒé£æ ¼ä¸€è‡´æ€§
   - æ³¨æ„æ¤è¢«åˆ†å¸ƒçš„è‡ªç„¶æ€§
   - åˆç†é…ç½®å…‰ç…§å’Œå¤©æ°”
   - å®šæœŸæŸ¥çœ‹ä¸åŒæ—¶é—´å’Œå¤©æ°”ä¸‹çš„æ•ˆæœ

2. **æ€§èƒ½è´¨é‡**
   - è®¾å®šFPSç›®æ ‡å¹¶æŒç»­ç›‘æ§
   - æ§åˆ¶å†…å­˜ä½¿ç”¨
   - ä¼˜åŒ–æ¸²æŸ“è°ƒç”¨æ¬¡æ•°
   - æµ‹è¯•ä¸åŒç¡¬ä»¶é…ç½®

---

## é—®é¢˜è§£å†³

### å¸¸è§é—®é¢˜

#### 1. åœ°å½¢ç”Ÿæˆå¤±è´¥

**ç—‡çŠ¶**ï¼šç‚¹å‡»ç”Ÿæˆåœ°å½¢æŒ‰é’®æ— ååº”æˆ–å‡ºç°é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
```csharp
// æ£€æŸ¥ç³»ç»Ÿåˆå§‹åŒ–
var worldManager = FindObjectOfType<WorldEditorManager>();
if (worldManager == null)
{
    Debug.LogError("WorldEditorManager æœªæ‰¾åˆ°ï¼Œè¯·å…ˆåˆ›å»º");
}

// æ£€æŸ¥ç”Ÿæˆå‚æ•°
var parameters = worldManager.GetGenerationParameters();
if (parameters == null)
{
    Debug.LogError("ç”Ÿæˆå‚æ•°ä¸ºç©ºï¼Œè¯·æ£€æŸ¥é…ç½®");
}
```

#### 2. æ¤è¢«æ”¾ç½®å¼‚å¸¸

**ç—‡çŠ¶**ï¼šæ¤è¢«æ”¾ç½®åœ¨ä¸åˆé€‚çš„ä½ç½®æˆ–å¯†åº¦è¿‡é«˜/è¿‡ä½

**è§£å†³æ–¹æ¡ˆ**ï¼š
```csharp
// æ£€æŸ¥åœ°å½¢åˆ†æ
var analyzer = FindObjectOfType<TerrainAnalyzer>();
if (analyzer != null)
{
    analyzer.AnalyzeTerrain();  // é‡æ–°åˆ†æåœ°å½¢
}

// è°ƒæ•´æ”¾ç½®è§„åˆ™
placementRules.density *= 0.5f;  // é™ä½å¯†åº¦
placementRules.maxSlope = 20f;   // é™åˆ¶å¡åº¦
```

#### 3. å¤©æ°”æ•ˆæœä¸æ˜¾ç¤º

**ç—‡çŠ¶**ï¼šè®¾ç½®å¤©æ°”åæ²¡æœ‰è§†è§‰æ•ˆæœ

**è§£å†³æ–¹æ¡ˆ**ï¼š
```csharp
// æ£€æŸ¥ç¯å¢ƒç³»ç»Ÿ
var envSystem = FindObjectOfType<DynamicEnvironmentSystem>();
if (!envSystem.enableDynamicEnvironment)
{
    envSystem.enableDynamicEnvironment = true;
}

// æ£€æŸ¥å¤©æ°”æ§åˆ¶å™¨
var weatherController = envSystem.GetComponent<WeatherController>();
if (weatherController != null)
{
    weatherController.Initialize(envSystem);
}
```

#### 4. æ€§èƒ½é—®é¢˜

**ç—‡çŠ¶**ï¼šå¸§ç‡ä½äºé¢„æœŸ

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **é™ä½è´¨é‡è®¾ç½®**
   ```csharp
   var optimizer = FindObjectOfType<WorldOptimizer>();
   optimizer.SetEnvironmentQuality(EnvironmentQuality.Medium);
   ```

2. **è°ƒæ•´LODè·ç¦»**
   ```csharp
   float[] newLodDistances = { 25f, 75f, 250f, 750f };  // æ›´æ¿€è¿›çš„LOD
   ```

3. **å‡å°‘æ¤è¢«å¯†åº¦**
   ```csharp
   placementSettings.density *= 0.5f;
   ```

### è°ƒè¯•å·¥å…·

#### å¯ç”¨è°ƒè¯•ä¿¡æ¯

```csharp
public class WorldEditorDebug : MonoBehaviour
{
    [SerializeField] private bool showDebugInfo = true;
    [SerializeField] private bool showPerformanceStats = true;
    [SerializeField] private bool logDetailedInfo = false;
    
    void OnGUI()
    {
        if (!showDebugInfo) return;
        
        GUILayout.BeginArea(new Rect(10, 10, 300, 200));
        GUILayout.Box("WorldEditor Debug Info");
        
        // æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€
        GUILayout.Label($"åœ°å½¢ç”Ÿæˆå™¨: {(FindObjectOfType<AdvancedTerrainGenerator>() != null ? "âœ“" : "âœ—")}");
        GUILayout.Label($"æ™ºèƒ½æ”¾ç½®: {(FindObjectOfType<SmartPlacementSystem>() != null ? "âœ“" : "âœ—")}");
        GUILayout.Label($"ç¯å¢ƒç³»ç»Ÿ: {(FindObjectOfType<DynamicEnvironmentSystem>() != null ? "âœ“" : "âœ—")}");
        
        // æ˜¾ç¤ºæ€§èƒ½ä¿¡æ¯
        if (showPerformanceStats)
        {
            GUILayout.Label($"FPS: {(1f / Time.unscaledDeltaTime):F1}");
            GUILayout.Label($"å†…å­˜: {(GC.GetTotalMemory(false) / 1024f / 1024f):F1}MB");
        }
        
        GUILayout.EndArea();
    }
}
```

#### æ€§èƒ½åˆ†æ

```csharp
[MenuItem("ä¸–ç•Œç¼–è¾‘å™¨/æ€§èƒ½åˆ†æ")]
static void OpenPerformanceAnalysis()
{
    var analyzer = FindObjectOfType<PerformanceProfiler>();
    if (analyzer == null)
    {
        var go = new GameObject("Performance Analyzer");
        analyzer = go.AddComponent<PerformanceProfiler>();
    }
    
    analyzer.StartProfiling();
}
```

### è·å–æ”¯æŒ

å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼š

1. **æ£€æŸ¥æ—¥å¿—**
   - Unity Consoleçª—å£
   - ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶
   - WorldEditorè°ƒè¯•è¾“å‡º

2. **æ”¶é›†ä¿¡æ¯**
   - Unityç‰ˆæœ¬
   - ç³»ç»Ÿé…ç½®
   - é”™è¯¯ä¿¡æ¯æˆªå›¾
   - é‡ç°æ­¥éª¤

3. **å¯»æ±‚å¸®åŠ©**
   - æŸ¥çœ‹åœ¨çº¿æ–‡æ¡£
   - æœç´¢å·²çŸ¥é—®é¢˜
   - æäº¤é—®é¢˜æŠ¥å‘Š

---

## ç»“è¯­

WorldEditoræ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ä¸–ç•Œåˆ›å»ºå·¥å…·ï¼Œé€šè¿‡åˆç†é…ç½®å’Œä½¿ç”¨ï¼Œèƒ½å¤Ÿåˆ›å»ºå‡ºè¶…è¶Šç°æœ‰å·¥å…·çš„ç²¾ç¾ä¸–ç•Œã€‚

å…³é”®è¦ç‚¹ï¼š
- ğŸ¯ æ˜ç¡®ç›®æ ‡ï¼Œåˆç†è§„åˆ’
- âš¡ æ³¨é‡æ€§èƒ½ï¼ŒæŒç»­ä¼˜åŒ–
- ğŸ”„ è¿­ä»£å¼€å‘ï¼Œé€æ­¥å®Œå–„
- ğŸ“Š ç›‘æ§æŒ‡æ ‡ï¼Œæ•°æ®é©±åŠ¨

å¸Œæœ›æœ¬æŒ‡å—èƒ½å¸®åŠ©æ‚¨å……åˆ†å‘æŒ¥WorldEditorçš„æ½œåŠ›ï¼Œåˆ›é€ å‡ºä»¤äººæƒŠå¹çš„è™šæ‹Ÿä¸–ç•Œï¼

---

*æ›´æ–°æ—¥æœŸï¼š2025å¹´8æœˆ18æ—¥*  
*ç‰ˆæœ¬ï¼šv1.0.0*